<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BH9BLR Home</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://BH9BLR.top/"/>
  <updated>2016-05-28T13:15:25.154Z</updated>
  <id>http://BH9BLR.top/</id>
  
  <author>
    <name>BH9BLR</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>NS2中增加新类</title>
    <link href="http://BH9BLR.top/2016/05/28/ns2newclass.html"/>
    <id>http://BH9BLR.top/2016/05/28/ns2newclass.html</id>
    <published>2016-05-28T13:05:19.000Z</published>
    <updated>2016-05-28T13:15:25.154Z</updated>
    
    <content type="html">&lt;h1 id=&quot;1、建立一个同名的h文件和cc文件&quot;&gt;&lt;a href=&quot;#1、建立一个同名的h文件和cc文件&quot; class=&quot;headerlink&quot; title=&quot;1、建立一个同名的h文件和cc文件&quot;&gt;&lt;/a&gt;1、建立一个同名的h文件和cc文件&lt;/h1&gt;&lt;p&gt;例如在mac文件夹下建立  mac_ofdma_ap.h  和 mac_ofdma_ap.cc&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;2、在头文件中建立对新类进行定义：&quot;&gt;&lt;a href=&quot;#2、在头文件中建立对新类进行定义：&quot; class=&quot;headerlink&quot; title=&quot;2、在头文件中建立对新类进行定义：&quot;&gt;&lt;/a&gt;2、在头文件中建立对新类进行定义：&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#ifndef MAC_802_11EXTOFDMAAP_H_    //头文件中预定义  根据需要替换宏定义&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#define MAC_802_11EXTOFDMAAP_H_ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#include &amp;lt;object.h&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#include &amp;lt;queue.h&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#include &amp;lt;drop-tail.h&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#include &amp;lt;packet.h&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#include &amp;quot;lib/bsd-list.h&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//#include &amp;lt;cmu-trace.h&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#include &amp;quot;zhouhu/zhdebug.h&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;引用父类的头文件，如不不加它会出现 expected class-name before ‘{’ token错误&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#include &amp;quot;mac-802_11Ext.h&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在头文件中定义类:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;class Mac_Ofdma_Ap : public Mac802_11Ext &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; public: &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; Mac_Ofdma_Ap(); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; void recv(Packet *pkt, Handler*); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  int command(int argc, const char*const* argv); 　　//注意：即使是继承父类，这个函数也必须重新定义和编写。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//可以继续添加变量以及函数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;头文件尾部:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#endif   //头文件中预定义&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;3、在cc文件中，进行c-类和tcl类的绑定-以及c-类中函数的编写&quot;&gt;&lt;a href=&quot;#3、在cc文件中，进行c-类和tcl类的绑定-以及c-类中函数的编写&quot; class=&quot;headerlink&quot; title=&quot;3、在cc文件中，进行c++类和tcl类的绑定 以及c++类中函数的编写&quot;&gt;&lt;/a&gt;3、在cc文件中，进行c++类和tcl类的绑定 以及c++类中函数的编写&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#include &amp;quot;mac_ofdma_ap.h&amp;quot;      //引用头文件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#include&amp;lt;time.h&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#include&amp;lt;stdlib.h&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;static class Mac_OFDMA_ApClass : public TclClass &amp;#123;    //注意类是tcl中的类 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public: &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; Mac_OFDMA_ApClass() : TclClass(&amp;quot;Mac/OfdmaExtAp&amp;quot;) &amp;#123;&amp;#125;      //tcl class字段的内容将被在tcl中被使用 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; TclObject* create(int, const char*const*) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  return(new Mac_Ofdma_Ap());     //这个类型和头文件中定义的类型相同 是c++中的类           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; class_macofdmaap;    //取一个独一无二的名字即可&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt; 后续都是对c++中的类进行编写,例如构造函数&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Mac_Ofdma_Ap::Mac_Ofdma_Ap() : Mac802_11Ext() &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; //bind(&amp;quot;schedule_threshold&amp;quot;, &amp;amp;schedule_threshold); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  //定义一个变量，用来标记当前被调度的队列编号。这个编号在令牌pf调度算法中，更新令牌计数器的schedule_video_data_count变量和收到ACK更新剩余播放时间时调用 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; //current_scheduled_queue=0; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;recv函数一定要重写，否则会出现  undefined reference to `vtable for Mac_Ofdma_Ap’ 错误  这是因为它被定义为一个纯虚类&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;void Mac_Ofdma_Ap::recv(Packet *pkt, Handler*)&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; printf(&amp;quot;111\n&amp;quot;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;编写command函数&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;int Mac_Ofdma_Ap::command(int argc, const char*const* argv) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; if (argc ==2) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   if(strcmp(argv[1],&amp;quot;show_ap_mac&amp;quot;)==0) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //show_ap_mac(); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return TCL_OK; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; if (argc ==3) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   if(strcmp(argv[1],&amp;quot;set_min_flow_num&amp;quot;)==0) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int value = atoi(argv[2]); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //min_flow_num=value; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   //printf(&amp;quot;[MAC AP] node: %d,set min_flow_num =%d \n&amp;quot;,index_,value); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return TCL_OK; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/* &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; //这里记录以下从tcl文件传过来的配置参数，主要是不同TCP流对应的优先级 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; if (argc ==4) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   if(strcmp(argv[1],&amp;quot;setpri_interval_max&amp;quot;)==0) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int fid = atoi(argv[2]); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    double value= atof(argv[3]); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fid_pri_interval_max_[fid] =value; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //顺便将0下标元素设置为0. 以免在比例公平型处调度。 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fid_pri_interval_max_[0] =0; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    printf(&amp;quot;node: %s,set fid %d, fid_pri_interval_max_ =%f,fid_pri_interval_max_value =%f ap_queues_num =%d \n&amp;quot;,name(),fid,value,fid_pri_interval_max_value,ap_queues_num); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return TCL_OK; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*/ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  return Mac802_11Ext::command(argc, argv); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;4、在ns2-34-目录下的Makefile中加入新类的对象。&quot;&gt;&lt;a href=&quot;#4、在ns2-34-目录下的Makefile中加入新类的对象。&quot; class=&quot;headerlink&quot; title=&quot;4、在ns2.34/目录下的Makefile中加入新类的对象。&quot;&gt;&lt;/a&gt;4、在ns2.34/目录下的Makefile中加入新类的对象。&lt;/h1&gt;&lt;p&gt;在第330行后面加上：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;zhouhu/tcp-sinkplayer.o \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mac/mac-802_11Extap.o \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp/tcp_ap.o \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$(OBJ_STL)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;5、在ns-default-tcl中-把子类中对父类的变量的绑定重新定义一遍&quot;&gt;&lt;a href=&quot;#5、在ns-default-tcl中-把子类中对父类的变量的绑定重新定义一遍&quot; class=&quot;headerlink&quot; title=&quot;5、在ns-default.tcl中 把子类中对父类的变量的绑定重新定义一遍&quot;&gt;&lt;/a&gt;5、在ns-default.tcl中 把子类中对父类的变量的绑定重新定义一遍&lt;/h1&gt;&lt;p&gt;如果不绑定则会提出找不到相应的变量：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;**warning: no class variable Mac/802_11ExtAp::fw_logthresh_**&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;出现这种错误的原因主要是因为定义了一个新类，从原来的基类继承过来，在cc文件中修改了部分函数，但新的子类并没有对应的tcl变量。&lt;br&gt;也就是说：子类继承了父类在c++方便的各种成员变量，但并不能将父类对应的tcl变量继承过来，因为它在TCL方面也不是继承关系。&lt;br&gt;&lt;strong&gt;解决方法：&lt;/strong&gt;&lt;br&gt;在ns_default.tcl文件中定义新类的TCL变量，并重新make整个工程。&lt;/p&gt;
&lt;h1 id=&quot;6、新类中重写函数替代父类中同名函数的功能&quot;&gt;&lt;a href=&quot;#6、新类中重写函数替代父类中同名函数的功能&quot; class=&quot;headerlink&quot; title=&quot;6、新类中重写函数替代父类中同名函数的功能&quot;&gt;&lt;/a&gt;6、新类中重写函数替代父类中同名函数的功能&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;将父类该函数使用virtual关键字描述，也即面向对象的重写。 &lt;/li&gt;
&lt;li&gt;如果新的类是继承原来的父类，要定义一下新的cmooand函数，在其中调用父类的command函数，来完成各种统计和绑定信息。&lt;h1 id=&quot;7、出错信息提示：&quot;&gt;&lt;a href=&quot;#7、出错信息提示：&quot; class=&quot;headerlink&quot; title=&quot;7、出错信息提示：&quot;&gt;&lt;/a&gt;7、出错信息提示：&lt;/h1&gt;1、&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;error: expected type-specifier before ‘Mac802_11ExtAp_ac’&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mac/mac-802_11Extap_ac.cc:21: error: expected ‘)’ before ‘Mac802_11ExtAp_ac’&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mac/mac-802_11Extap_ac.cc:21: error: cannot convert ‘int*’ to ‘TclObject*’ in return&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;错误原因：当时复制了一类做为另一个类的模板，但在cc文件中忘了更新头文件。&lt;br&gt;2、&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ns: [code omitted because of length]: invalid command name&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;错误原因：构造函数编写问题。&lt;br&gt;3、&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;undefined reference to `vtable for Mac_Ofdma_Ap&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;错误原因：在子类中未对父类的虚函数进行定义。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1、建立一个同名的h文件和cc文件&quot;&gt;&lt;a href=&quot;#1、建立一个同名的h文件和cc文件&quot; class=&quot;headerlink&quot; title=&quot;1、建立一个同名的h文件和cc文件&quot;&gt;&lt;/a&gt;1、建立一个同名的h文件和cc文件&lt;/h1&gt;&lt;p&gt;例如在mac文件夹下建立  mac_ofdma_ap.h  和 mac_ofdma_ap.cc&lt;br&gt;
    
    </summary>
    
    
      <category term="NS2" scheme="http://BH9BLR.top/tags/NS2/"/>
    
  </entry>
  
  <entry>
    <title>linux文档处理</title>
    <link href="http://BH9BLR.top/2016/05/28/linuxtextproc.html"/>
    <id>http://BH9BLR.top/2016/05/28/linuxtextproc.html</id>
    <published>2016-05-28T13:02:37.000Z</published>
    <updated>2016-05-28T13:22:30.741Z</updated>
    
    <content type="html">&lt;h1 id=&quot;按行读取&quot;&gt;&lt;a href=&quot;#按行读取&quot; class=&quot;headerlink&quot; title=&quot;按行读取&quot;&gt;&lt;/a&gt;按行读取&lt;/h1&gt;&lt;h2 id=&quot;读取前100行&quot;&gt;&lt;a href=&quot;#读取前100行&quot; class=&quot;headerlink&quot; title=&quot;读取前100行&quot;&gt;&lt;/a&gt;读取前100行&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;head -100 a.txt&amp;gt;test.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;读取后100行&quot;&gt;&lt;a href=&quot;#读取后100行&quot; class=&quot;headerlink&quot; title=&quot;读取后100行&quot;&gt;&lt;/a&gt;读取后100行&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tail -100 a.txt&amp;gt;test.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;读取某个固定行&quot;&gt;&lt;a href=&quot;#读取某个固定行&quot; class=&quot;headerlink&quot; title=&quot;读取某个固定行&quot;&gt;&lt;/a&gt;读取某个固定行&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sed -n &amp;apos;8p&amp;apos;  a.txt &amp;gt;test.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;按列读取&quot;&gt;&lt;a href=&quot;#按列读取&quot; class=&quot;headerlink&quot; title=&quot;按列读取&quot;&gt;&lt;/a&gt;按列读取&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;awk &amp;apos;&amp;#123;print $1,$2&amp;#125;&amp;apos;  a.txt &amp;gt;test.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;注意：&lt;br&gt;1、$0 代表整个文件，如果打印$0的话会将所有列都打印进来&lt;br&gt;2、$1 $2 之间有逗号&lt;/p&gt;
&lt;h1 id=&quot;复制到word保持tab缩进&quot;&gt;&lt;a href=&quot;#复制到word保持tab缩进&quot; class=&quot;headerlink&quot; title=&quot;复制到word保持tab缩进&quot;&gt;&lt;/a&gt;复制到word保持tab缩进&lt;/h1&gt;&lt;p&gt; 在linux脚本处理中，是按照tab键来将每行的内容分割成列的。&lt;br&gt; 但是直接复制到excel或者origin中默认没有区分列，而是多个列的内容复制到一个单元格中。&lt;br&gt; &lt;strong&gt;解决方法：&lt;/strong&gt;&lt;br&gt;复制文本全部内容至word——选择全部文字—插入–表格—–转换—文本转换成表格—-输入目标行和列（自动选择）—-选中word中表格内容粘贴至excel。&lt;/p&gt;
&lt;h1 id=&quot;根据某一列内容区分提取结果&quot;&gt;&lt;a href=&quot;#根据某一列内容区分提取结果&quot; class=&quot;headerlink&quot; title=&quot;根据某一列内容区分提取结果&quot;&gt;&lt;/a&gt;根据某一列内容区分提取结果&lt;/h1&gt;&lt;p&gt;仿真通过printf记录一些数据到结果文件，其中共记录两种数据（分别在结果文件的第一列中采用12345678987654321 和9999999）以区分，每种数据有0和1两个节点。分别在结果文件第二列以0 和1 区分。&lt;br&gt;处理程序如下：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#!/bin/sh &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;scheduler_tag=&amp;quot;12345678987654321&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;videobuf_tag=&amp;quot;99999999&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;downthroughput_tag=&amp;quot;55555555&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sourcefile=&amp;quot;result_video_10_time_1&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for i in 0 1 2 3 4 5 6 7 8 9 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;do &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#result_file=&amp;quot;result_video_&amp;quot;&amp;quot;$i&amp;quot;&amp;quot;_time_1&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;schedulerresult=&amp;quot;schedulerresult_&amp;quot;&amp;quot;$i&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bufferresult=&amp;quot;bufferresult_&amp;quot;&amp;quot;$i&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;throughputresult=&amp;quot;throughput_&amp;quot;&amp;quot;$i&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;grep $scheduler_tag $sourcefile | perl -anle &amp;apos;print if $F[1]=~/^&amp;apos;&amp;quot;$i&amp;quot;&amp;apos;$/&amp;apos; &amp;gt;$schedulerresult &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;grep $videobuf_tag $sourcefile | perl -anle &amp;apos;print if $F[1]=~/^&amp;apos;&amp;quot;$i&amp;quot;&amp;apos;$/&amp;apos; &amp;gt;$bufferresult &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;grep $downthroughput_tag $sourcefile | perl -anle &amp;apos;print if $F[3]=~/^&amp;apos;&amp;quot;$i&amp;quot;&amp;apos;$/&amp;apos; &amp;gt;$throughputresult &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;done&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其中涉及到以下因素：&lt;br&gt;1、在正则表达式中使用变量 要用单引号加双引号的方式  即 ‘“\$i”‘&lt;br&gt;2、为了避免在查找某一列为1的时候把11 21的列也查找出来，要将这个1首尾都进行限制，即\^1$&lt;/p&gt;
&lt;h1 id=&quot;在sed中使用变量&quot;&gt;&lt;a href=&quot;#在sed中使用变量&quot; class=&quot;headerlink&quot; title=&quot;在sed中使用变量&quot;&gt;&lt;/a&gt;在sed中使用变量&lt;/h1&gt;&lt;p&gt;通常，我们使用sed进行变量替换的时候，替换和被替换变量都是hard-coded的。例如：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sed -n ‘/comm/p’ /tmp/test.log&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果我们用一变量var，它的值根据上下文变化&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ var=”comm”，定义了变量，那么我们在sed的使用中这样使用变量 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ sed -n ‘/’”$var”‘/p’ /tmp/test.log&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;注意，是用单引号包含双引号来引用变量。 &lt;/p&gt;
&lt;p&gt;最初接触这个命令的人，可能以为$var之前的单引号会结束当前的script，其实不会。 &lt;/p&gt;
&lt;p&gt;若要在文本中匹配一个范围的话，可以使用的sed匹配&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sed -n ‘/’”$var_start”‘/&amp;#123;p;:a;n;/’”$var_end”‘/p;ba&amp;#125;’ /tmp/test.log &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-n 关闭sed的默认输出 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/$var_start/ 当数据行中查找到字符串$var_start 时开始工作，后面的是命令组&amp;#123;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;p; 打印出$var_start 这一行 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;:a 定义一个标签，名称为a &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;n; 读取下一行 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/$var_end/p; 当读入的这一行中查找到$var_end 字符串时，输出 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ba 跳转到标签a&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;按行读取&quot;&gt;&lt;a href=&quot;#按行读取&quot; class=&quot;headerlink&quot; title=&quot;按行读取&quot;&gt;&lt;/a&gt;按行读取&lt;/h1&gt;&lt;h2 id=&quot;读取前100行&quot;&gt;&lt;a href=&quot;#读取前100行&quot; class=&quot;headerlink&quot; title=&quot;读取前100行&quot;&gt;&lt;/a&gt;读取前100行&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;head -100 a.txt&amp;gt;test.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="linux" scheme="http://BH9BLR.top/tags/linux/"/>
    
      <category term="shell" scheme="http://BH9BLR.top/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>linux shell 编程注意事项</title>
    <link href="http://BH9BLR.top/2016/05/28/linuxshellissue.html"/>
    <id>http://BH9BLR.top/2016/05/28/linuxshellissue.html</id>
    <published>2016-05-28T12:58:04.000Z</published>
    <updated>2016-05-28T13:00:11.983Z</updated>
    
    <content type="html">&lt;h1 id=&quot;变量运算&quot;&gt;&lt;a href=&quot;#变量运算&quot; class=&quot;headerlink&quot; title=&quot;变量运算&quot;&gt;&lt;/a&gt;变量运算&lt;/h1&gt;&lt;p&gt;要想引用某个变量做为一个表达式时，需要用双括号，并且在最外层加 $.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;CONFIG3=&amp;quot;-play_rate $(($ii*100))&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#!/bin/bash  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#执行数值运算时，第一行必须是/bin/bash，而不是/bin/sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if [ $# -lt 1 ] &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;then &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;echo &amp;quot;Usage:*.sh k&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;exit &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fi &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;num=$[$1*$1*$1/4] &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for((i=0;i&amp;lt;10;i++)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;do &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;echo$i &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;done&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;变量赋值&quot;&gt;&lt;a href=&quot;#变量赋值&quot; class=&quot;headerlink&quot; title=&quot;变量赋值&quot;&gt;&lt;/a&gt;变量赋值&lt;/h1&gt;&lt;p&gt;注意：&lt;br&gt;1.等号右边不能有空格&lt;br&gt;2.等号右边不用加符号$ &lt;/p&gt;
&lt;p&gt;3.作为等号右边角色是（取变量）要加符号$&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSEXE=/home/zhouhu/ns-allinone-2.34/ns-2.34/ns   #其中NSEXE右边的等号不能有空格&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TEST=&amp;quot;test 1&amp;quot; 当对某个变量赋值时，就直接使用变量名，不要加$符号&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;echo $TEST&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TEST=&amp;quot;test 2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;echo $TEST&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$TEST=&amp;quot;test 3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;echo $TEST&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;输出的结果是：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;test1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;test2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;test2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;4.如果使用的是 if 这类的语句，则 if [ ] 等符号之间左右必须有空格，否则系统就将他们作为一个变量，而不会识别&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;if [ $TCP_WIN = 1]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;5.如果等式右边是一串字符串，之间有空格，那么应该将他们用引号括起来&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;CONFIG=&amp;quot;-play_rate 1000 -video_file_len_in_num 10000 -tcp_win 1000 -nn 1 -mac_cwmin 31 -mac_cwmax 1023&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;6.引用变量时，直接在前面使用$符号即可，不需要使用小括号， 如果想让变量是紧密连接的，那么在引用它们时中间不使用空格即可。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$NSEXE $NSHOME$TCLFILE $CONFIG &amp;gt;test.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;for循环变量设置&quot;&gt;&lt;a href=&quot;#for循环变量设置&quot; class=&quot;headerlink&quot; title=&quot;for循环变量设置&quot;&gt;&lt;/a&gt;for循环变量设置&lt;/h1&gt;&lt;p&gt;选取i在某个序列中的一系列值，使用seq函数，该函数可以跟三个参数，分别为 首数，增量 ，尾数。&lt;br&gt;例如 seq 1 2 10 ，则表示从1开始，增量为2，直到10 ， 实际输出为 1 3 5 7 9&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;for i in $(seq 1 2 10);     #注意有分号，这个分号其实是针对seq的&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#for i in `seq 10`   #这个是简单写法，也是给出从1到10一共10个数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;do &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   echo $i; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;done;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;另外一种是生成自己的序列，可以配置任意字符 ，例如想要使用 1 2 5，则使用如下的脚本&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#!/bin/sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for i in 1 2 5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;do&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    echo $i;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;done;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;变量运算&quot;&gt;&lt;a href=&quot;#变量运算&quot; class=&quot;headerlink&quot; title=&quot;变量运算&quot;&gt;&lt;/a&gt;变量运算&lt;/h1&gt;&lt;p&gt;要想引用某个变量做为一个表达式时，需要用双括号，并且在最外层加 $.&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;CONFIG3=&amp;quot;-play_rate $(($ii*100))&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="linux" scheme="http://BH9BLR.top/tags/linux/"/>
    
      <category term="shell" scheme="http://BH9BLR.top/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>Hexo建站笔记</title>
    <link href="http://BH9BLR.top/2016/05/28/hexoblog.html"/>
    <id>http://BH9BLR.top/2016/05/28/hexoblog.html</id>
    <published>2016-05-28T01:38:27.000Z</published>
    <updated>2016-05-28T12:51:43.938Z</updated>
    
    <content type="html">&lt;h1 id=&quot;下载安装和初始化&quot;&gt;&lt;a href=&quot;#下载安装和初始化&quot; class=&quot;headerlink&quot; title=&quot;下载安装和初始化&quot;&gt;&lt;/a&gt;下载安装和初始化&lt;/h1&gt;&lt;h2 id=&quot;下载安装所需软件（依次）&quot;&gt;&lt;a href=&quot;#下载安装所需软件（依次）&quot; class=&quot;headerlink&quot; title=&quot;下载安装所需软件（依次）&quot;&gt;&lt;/a&gt;下载安装所需软件（依次）&lt;/h2&gt;&lt;p&gt;1、&lt;a href=&quot;https://nodejs.org/download/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Node&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2、&lt;a href=&quot;http://git-scm.com/download/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Git&lt;/a&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt; 
&lt;h2 id=&quot;安装Hexo&quot;&gt;&lt;a href=&quot;#安装Hexo&quot; class=&quot;headerlink&quot; title=&quot;安装Hexo&quot;&gt;&lt;/a&gt;安装Hexo&lt;/h2&gt;&lt;p&gt;打开git bash：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm  install  −g hexo  //注意Node和Git是依次安装，否则在安装Node.js后需要重启gitbash才能识别npm等命令。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;部署Hexo&quot;&gt;&lt;a href=&quot;#部署Hexo&quot; class=&quot;headerlink&quot; title=&quot;部署Hexo&quot;&gt;&lt;/a&gt;部署Hexo&lt;/h2&gt;&lt;p&gt;在电脑中新建hexo文件夹，在此文件夹中执行：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo init    //Hexo随后会自动在目标文件夹建立网站所需要的所有文件。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;生成静态文件和预览博客&quot;&gt;&lt;a href=&quot;#生成静态文件和预览博客&quot; class=&quot;headerlink&quot; title=&quot;生成静态文件和预览博客&quot;&gt;&lt;/a&gt;生成静态文件和预览博客&lt;/h2&gt;&lt;p&gt;执行以下命令，然后到浏览器输入localhost:4000可以看到博客主页。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo g     //从source文件夹的md文件，生成静态网页文件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hexo s    //打开一个本地web服务器&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;部署-hexo到github和coding&quot;&gt;&lt;a href=&quot;#部署-hexo到github和coding&quot; class=&quot;headerlink&quot; title=&quot;部署 hexo到github和coding&quot;&gt;&lt;/a&gt;部署 hexo到github和coding&lt;/h1&gt;&lt;h2 id=&quot;注册github和coding网站并设置ssh-key。&quot;&gt;&lt;a href=&quot;#注册github和coding网站并设置ssh-key。&quot; class=&quot;headerlink&quot; title=&quot;注册github和coding网站并设置ssh key。&quot;&gt;&lt;/a&gt;注册github和coding网站并设置ssh key。&lt;/h2&gt;&lt;p&gt;参见其他网站进行配置&lt;/p&gt;
&lt;h2 id=&quot;修改hexo根目录下面的-config-yml文件中的deploy&quot;&gt;&lt;a href=&quot;#修改hexo根目录下面的-config-yml文件中的deploy&quot; class=&quot;headerlink&quot; title=&quot;修改hexo根目录下面的_config.yml文件中的deploy&quot;&gt;&lt;/a&gt;修改hexo根目录下面的_config.yml文件中的deploy&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;deploy:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  type: git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  repo:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      github: git@github.com:BH9BLR/BH9BLR.github.io.git,master&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      coding: git@git.coding.net:BH9BLR/BH9BLR.git,master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;安装hexo-deployer-git&quot;&gt;&lt;a href=&quot;#安装hexo-deployer-git&quot; class=&quot;headerlink&quot; title=&quot;安装hexo-deployer-git&quot;&gt;&lt;/a&gt;安装hexo-deployer-git&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-deployer-git –save&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;部署博客&quot;&gt;&lt;a href=&quot;#部署博客&quot; class=&quot;headerlink&quot; title=&quot;部署博客&quot;&gt;&lt;/a&gt;部署博客&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo d&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;在coding上部署博客&quot;&gt;&lt;a href=&quot;#在coding上部署博客&quot; class=&quot;headerlink&quot; title=&quot;在coding上部署博客&quot;&gt;&lt;/a&gt;在coding上部署博客&lt;/h2&gt;&lt;p&gt;使用pages方式在source/需要创建一个空白文件Staticfile（coding.net需要这个文件来作为以静态文件部署的标志）&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cd source/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;touch Staticfile  #名字必须是Staticfile&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;域名绑定&quot;&gt;&lt;a href=&quot;#域名绑定&quot; class=&quot;headerlink&quot; title=&quot;域名绑定&quot;&gt;&lt;/a&gt;域名绑定&lt;/h1&gt;&lt;p&gt;在万网注册用户名：bh9ble-y，注册域名bh9blr.top，按照下表进行映射:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;配置&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;类型：&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;CNAME&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;默认映射：&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;BH9BLR.coding.me&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;在pages的生成页面，添加域名映射&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;国外映射：&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;BH9BLR.github.io&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;在\hexo\source目录下新建CNAME文件，在其中写入bh9blr.top&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&quot;主题优化&quot;&gt;&lt;a href=&quot;#主题优化&quot; class=&quot;headerlink&quot; title=&quot;主题优化&quot;&gt;&lt;/a&gt;主题优化&lt;/h1&gt;&lt;h2 id=&quot;选择主题&quot;&gt;&lt;a href=&quot;#选择主题&quot; class=&quot;headerlink&quot; title=&quot;选择主题&quot;&gt;&lt;/a&gt;选择主题&lt;/h2&gt;&lt;p&gt;选择 &lt;a href=&quot;https://github.com/MOxFIVE/hexo-theme-yelee&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;yelee&lt;/a&gt;主题。&lt;/p&gt;
&lt;h2 id=&quot;多分类页面&quot;&gt;&lt;a href=&quot;#多分类页面&quot; class=&quot;headerlink&quot; title=&quot;多分类页面&quot;&gt;&lt;/a&gt;多分类页面&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;在hexo目录下scaffolds/post.md，page.md以及photo.md中，增加”categories:”字段。&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在每个md文件的头部加入分类，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;categories: 通信&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;hexo g 命令在根目录/public/categrises下自动生成归档文件夹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;在主题配置文件进行目录设置&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;menu:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  主页: /&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  所有文章: /archives/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  #HAM: /ham/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  通信:	/categories/通信/     #注意最后的&amp;quot;/&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;图床&quot;&gt;&lt;a href=&quot;#图床&quot; class=&quot;headerlink&quot; title=&quot;图床&quot;&gt;&lt;/a&gt;图床&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;使用七牛图床&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;下载安装和初始化&quot;&gt;&lt;a href=&quot;#下载安装和初始化&quot; class=&quot;headerlink&quot; title=&quot;下载安装和初始化&quot;&gt;&lt;/a&gt;下载安装和初始化&lt;/h1&gt;&lt;h2 id=&quot;下载安装所需软件（依次）&quot;&gt;&lt;a href=&quot;#下载安装所需软件（依次）&quot; class=&quot;headerlink&quot; title=&quot;下载安装所需软件（依次）&quot;&gt;&lt;/a&gt;下载安装所需软件（依次）&lt;/h2&gt;&lt;p&gt;1、&lt;a href=&quot;https://nodejs.org/download/&quot;&gt;Node&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2、&lt;a href=&quot;http://git-scm.com/download/&quot;&gt;Git&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://BH9BLR.top/tags/hexo/"/>
    
  </entry>
  
</feed>
